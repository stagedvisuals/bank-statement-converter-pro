(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return t(1993)}])},638:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var a=t(7294),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),c=(e,s)=>{let t=(0,a.forwardRef)((t,c)=>{let{color:i="currentColor",size:l=24,strokeWidth:d=2,absoluteStrokeWidth:o,className:x="",children:h,...m}=t;return(0,a.createElement)("svg",{ref:c,...r,width:l,height:l,stroke:i,strokeWidth:o?24*Number(d)/Number(l):d,className:["lucide","lucide-".concat(n(e)),x].join(" "),...m},[...s.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(h)?h:[h]])});return t.displayName="".concat(e),t}},3347:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(638).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},6990:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(638).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2412:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(638).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},8950:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(638).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},1993:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(5893),r=t(7294),n=t(9008),c=t.n(n),i=t(1163),l=t(1664),d=t.n(l),o=t(8950),x=t(3347),h=t(638);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,h.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var u=t(2412),g=t(6990);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,h.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function v(){let e=(0,i.useRouter)(),[s,t]=(0,r.useState)(null),[n,l]=(0,r.useState)(!0),[h,v]=(0,r.useState)([]),[f,b]=(0,r.useState)([]),[j,N]=(0,r.useState)({totalUsers:0,totalConversations:0,totalContacts:0}),[w,y]=(0,r.useState)("");(0,r.useEffect)(()=>{k()},[]);let k=async()=>{let s=localStorage.getItem("bscpro_session"),a=localStorage.getItem("bscpro_user");if(!s||!a){e.push("/login");return}let r=JSON.parse(a);if("admin"!==r.role){e.push("/dashboard");return}t(r),await C(s),l(!1)},C=async e=>{try{let s=await fetch("/api/admin/dashboard",{headers:{Authorization:"Bearer ".concat(e)}});if(!s.ok)throw Error("Failed to fetch admin data");let t=await s.json();v(t.conversations||[]),b(t.contacts||[]),N(t.stats||{totalUsers:0,totalConversations:0,totalContacts:0})}catch(e){y(e.message)}},Z=e=>new Date(e).toLocaleString("nl-NL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return n?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-fintech-bg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-success border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-navy",children:"Laden..."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{children:(0,a.jsx)("title",{children:"Admin Panel | BSC Pro"})}),(0,a.jsxs)("div",{className:"min-h-screen bg-fintech-bg",children:[(0,a.jsx)("nav",{className:"bg-navy text-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Z,{className:"w-6 h-6 text-success"}),(0,a.jsx)("span",{className:"text-xl font-bold",children:"BSC Pro Admin"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("span",{className:"text-slate-light text-sm",children:null==s?void 0:s.email}),(0,a.jsx)(d(),{href:"/dashboard",className:"text-slate-light hover:text-white transition-colors",children:"Dashboard"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("bscpro_session"),localStorage.removeItem("bscpro_user"),e.push("/login")},className:"p-2 text-slate-light hover:text-white hover:bg-navy-light rounded-lg transition-colors",children:(0,a.jsx)(x.Z,{className:"w-5 h-5"})})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[w&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-danger/10 border border-danger/20 rounded-xl text-danger",children:w}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 card-shadow border border-fintech-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-accent/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)(m,{className:"w-6 h-6 text-accent"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate text-sm",children:"Totaal Gebruikers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-navy",children:j.totalUsers})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 card-shadow border border-fintech-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-success/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-success"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate text-sm",children:"Chat Gesprekken"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-navy",children:j.totalConversations})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 card-shadow border border-fintech-border",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-warning/10 rounded-xl flex items-center justify-center",children:(0,a.jsx)(g.Z,{className:"w-6 h-6 text-warning"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-slate text-sm",children:"Contact Berichten"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-navy",children:j.totalContacts})]})]})})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl card-shadow border border-fintech-border overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-fintech-border",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-navy flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"w-5 h-5 text-success"}),"Chat Gesprekken"]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===h.length?(0,a.jsx)("div",{className:"p-6 text-center text-slate",children:"Geen chat gesprekken gevonden"}):(0,a.jsx)("div",{className:"divide-y divide-fintech-border",children:h.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"p-4 hover:bg-fintech-bg/50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-navy text-sm",children:e.email||"Anoniem"}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("active"===e.status?"bg-success/10 text-success":"bg-slate/10 text-slate"),children:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"w-3 h-3"}),(null===(t=e.chat_messages)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.count)||0," berichten"]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(p,{className:"w-3 h-3"}),Z(e.updated_at)]})]})]},e.id)})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl card-shadow border border-fintech-border overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-fintech-border",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-navy flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5 text-warning"}),"Contact Berichten"]})}),(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto",children:0===f.length?(0,a.jsx)("div",{className:"p-6 text-center text-slate",children:"Geen contact berichten gevonden"}):(0,a.jsx)("div",{className:"divide-y divide-fintech-border",children:f.map(e=>(0,a.jsxs)("div",{className:"p-4 hover:bg-fintech-bg/50",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,a.jsx)("span",{className:"font-medium text-navy text-sm",children:e.name}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded-full ".concat("new"===e.status?"bg-warning/10 text-warning":"bg-success/10 text-success"),children:e.status})]}),(0,a.jsx)("p",{className:"text-xs text-slate mb-1",children:e.email}),(0,a.jsx)("p",{className:"text-xs text-slate truncate",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-slate mt-1",children:Z(e.created_at)})]},e.id))})})]})]})]})]})]})}},1163:function(e,s,t){e.exports=t(6036)}},function(e){e.O(0,[996,888,774,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);